[{"C:\\Users\\cmare\\dev practice\\talkbubble\\talkbubble-client\\src\\index.js":"1","C:\\Users\\cmare\\dev practice\\talkbubble\\talkbubble-client\\src\\reportWebVitals.js":"2","C:\\Users\\cmare\\dev practice\\talkbubble\\talkbubble-client\\src\\App.js":"3","C:\\Users\\cmare\\dev practice\\talkbubble\\talkbubble-client\\src\\components\\nav.js":"4","C:\\Users\\cmare\\dev practice\\talkbubble\\talkbubble-client\\src\\components\\management.js":"5","C:\\Users\\cmare\\dev practice\\talkbubble\\talkbubble-client\\src\\components\\topic.js":"6","C:\\Users\\cmare\\dev practice\\talkbubble\\talkbubble-client\\src\\components\\feed.js":"7","C:\\Users\\cmare\\dev practice\\talkbubble\\talkbubble-client\\src\\components\\form.js":"8","C:\\Users\\cmare\\dev practice\\talkbubble\\talkbubble-client\\src\\components\\room.js":"9","C:\\Users\\cmare\\dev practice\\talkbubble\\talkbubble-client\\src\\components\\options.js":"10","C:\\Users\\cmare\\dev practice\\talkbubble\\talkbubble-client\\src\\components\\post.js":"11","C:\\Users\\cmare\\dev practice\\talkbubble\\talkbubble-client\\src\\components\\member.js":"12"},{"size":500,"mtime":499162500000,"results":"13","hashOfConfig":"14"},{"size":362,"mtime":499162500000,"results":"15","hashOfConfig":"14"},{"size":9541,"mtime":1610217235506,"results":"16","hashOfConfig":"14"},{"size":6379,"mtime":1610216588049,"results":"17","hashOfConfig":"14"},{"size":663,"mtime":1610217127534,"results":"18","hashOfConfig":"14"},{"size":494,"mtime":1610216821638,"results":"19","hashOfConfig":"14"},{"size":695,"mtime":1610217234153,"results":"20","hashOfConfig":"14"},{"size":2428,"mtime":1610217302415,"results":"21","hashOfConfig":"14"},{"size":694,"mtime":1610217199250,"results":"22","hashOfConfig":"14"},{"size":1428,"mtime":1610216861140,"results":"23","hashOfConfig":"14"},{"size":1362,"mtime":1610218192836,"results":"24","hashOfConfig":"14"},{"size":1281,"mtime":1610217909443,"results":"25","hashOfConfig":"14"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},"16mdmp9",{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"33","usedDeprecatedRules":"28"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"40","usedDeprecatedRules":"28"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"45","usedDeprecatedRules":"28"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\cmare\\dev practice\\talkbubble\\talkbubble-client\\src\\index.js",[],["54","55"],"C:\\Users\\cmare\\dev practice\\talkbubble\\talkbubble-client\\src\\reportWebVitals.js",[],"C:\\Users\\cmare\\dev practice\\talkbubble\\talkbubble-client\\src\\App.js",["56","57","58","59","60","61","62"],"import popfile from './media/pop.wav';\r\nimport { Nav } from './components/nav';\r\nimport { Feed } from './components/feed';\r\nimport { Topic } from './components/topic';\r\nimport { Management } from './components/management';\r\nimport { Form } from './components/form';\r\nimport logo from './logo.svg';\r\nimport React, { useState, useEffect } from 'react';\r\nimport socketIOClient from \"socket.io-client\";\r\nimport './App.css';\r\n\r\nconst ENDPOINT = \"http://127.0.0.1:4001\";\r\n\r\nconst socket = socketIOClient(ENDPOINT, { secure: true });\r\n\r\nwindow.nickname = '';\r\n\r\nwindow.shift = false;\r\nwindow.lastKey = '';\r\n\r\nclass App extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      activeMember: '',\r\n      members: [],\r\n      msg: '',\r\n      muteList: [],\r\n      nickname: '',\r\n      nicknameTemp: '',\r\n      posts: [],\r\n      topic: '',\r\n      transitioningTopic: false,\r\n      updatingNickname: false,\r\n    }\r\n\r\n    this.manageMember     = this.manageMember.bind(this);\r\n    this.toggleMute       = this.toggleMute.bind(this);\r\n    this.handleChange     = this.handleChange.bind(this);\r\n    this.chat             = this.chat.bind(this);\r\n    this.directMessage    = this.directMessage.bind(this);\r\n    this.changeNickname   = this.changeNickname.bind(this);\r\n    this.nicknameReject   = this.nicknameReject.bind(this);\r\n    this.nicknameAccept   = this.nicknameAccept.bind(this);\r\n    this.nicknameUpdate   = this.nicknameUpdate.bind(this);\r\n    this.setFeedRef       = this.setFeedRef.bind(this);\r\n  }\r\n\r\n  setFeedRef(ref) {\r\n    this.feedRef = ref;\r\n  }\r\n\r\n  manageMember(member) {\r\n    if (member === this.state.activeMember) {\r\n      this.setState({\r\n        activeMember: '',\r\n      })\r\n    } else {\r\n      this.setState({\r\n        activeMember: member,\r\n      });\r\n    }\r\n  }\r\n\r\n  toggleMute() {\r\n    let muted = false;\r\n    const muteListClone = [...this.state.muteList];\r\n    for (let i = 0; i < muteListClone.length; i) {\r\n      if (muteListClone[i] === this.state.activeMember) {\r\n        muteListClone.splice(i, 1);\r\n        muted = true;\r\n        break;\r\n      }\r\n    }\r\n\r\n    if (!muted) muteListClone.push(this.state.activeMember);\r\n\r\n    this.setState({muteList: muteListClone});\r\n  }\r\n  \r\n  handleChange(e) {\r\n    if (window.lastKey === 'Enter' && !window.shift) return;\r\n    if (e.target.value.length <= 256) {\r\n      this.setState({ msg: e.target.value });\r\n    } else {\r\n      this.setState({ msg: e.target.value.substring(0, 256) })\r\n    }\r\n  }\r\n\r\n  changeNickname(e) {\r\n    if (e.target.value.length <= 32) {\r\n      this.setState({ nicknameTemp: e.target.value })\r\n    } else {\r\n      this.setState({ nicknameTemp: e.target.value.substring(0, 32) })\r\n    }\r\n    \r\n  }\r\n\r\n  nicknameUpdate() {\r\n    this.setState({ \r\n      nicknameTemp: this.state.nickname,\r\n      updatingNickname: true \r\n    });\r\n  }\r\n\r\n  nicknameAccept() {\r\n    socket.emit('change nickname', { memberId: window.memberId, nickname: this.state.nicknameTemp})\r\n    this.setState({ \r\n      nickname: this.state.nicknameTemp,\r\n      updatingNickname: false \r\n    })\r\n  }\r\n\r\n  nicknameReject() {\r\n    this.setState({\r\n      updatingNickname: false\r\n    })\r\n  }\r\n  chat() {\r\n    if (this.state.msg.length < 1) return;\r\n    socket.emit('chat', {\r\n      msg: this.state.msg,\r\n      member: window.memberId,\r\n      nickname: window.nickname,\r\n    })\r\n    this.setState({ msg: '' });\r\n  }\r\n\r\n  directMessage() {\r\n    let msg = this.state.msg;\r\n    msg = this.state.activeMember + ' ' + msg;\r\n    this.setState({ msg })\r\n  }\r\n\r\n  componentDidMount() {\r\n    const _state = this.state;\r\n    const pop = new Audio(popfile);\r\n\r\n    socket.emit('join', (member, members) => {\r\n      window.memberId = member;\r\n      window.nickname = '';\r\n      members.forEach((member) => {\r\n        member.active = false;\r\n      })\r\n      this.setState({\r\n        members: members,\r\n      });\r\n    });\r\n\r\n    const link = document.createElement(\"link\");\r\n    link.rel = \"stylesheet\";\r\n    link.href = \"https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css\";\r\n    document.head.appendChild(link);\r\n\r\n    const gfonts = document.createElement('link');\r\n    gfonts.rel = 'preconnect';\r\n    gfonts.href = 'https://fonts.gstatic.com';\r\n    document.head.appendChild(gfonts);\r\n\r\n    const montserrat = document.createElement('link');\r\n    montserrat.rel = 'stylesheet';\r\n    montserrat.href = 'https://fonts.googleapis.com/css2?family=Montserrat&display=swap';\r\n    document.head.appendChild(montserrat);\r\n\r\n\r\n    \r\n    window.addEventListener('keydown', e => {\r\n      if (e.repeat) return;\r\n      if (e.key === \"Shift\") {\r\n        window.shift = true;\r\n      }\r\n      window.lastKey = e.key;\r\n      if (e.key === 'Enter' && !window.shift) {\r\n        if (this.state.updatingNickname) {\r\n          this.nicknameAccept();\r\n        } else {\r\n          this.chat();\r\n        }\r\n      }\r\n    });\r\n\r\n    window.addEventListener('keyup', e => {\r\n      if (e.key === \"Shift\") {\r\n        window.shift = false;\r\n      }\r\n    });\r\n    \r\n    const appendMember = (data) => {\r\n      data.active = false;\r\n      const membersClone = [...this.state.members];\r\n      membersClone.push(data);\r\n      this.setState({\r\n        members: membersClone,\r\n      })\r\n    }\r\n\r\n    const removeMember = (member) => {\r\n      const membersClone = [...this.state.members];\r\n      for (let i = 0; i < membersClone.length; i++) {\r\n        if (membersClone[i].id === member) {\r\n          membersClone.splice(i, 1);\r\n          break;\r\n        }\r\n      }\r\n      this.setState({\r\n        members: membersClone,\r\n      })\r\n    }\r\n\r\n    const appendChat = (data) => {\r\n      let lockScroll = false;\r\n      if (this.feedRef) lockScroll = this.feedRef.scrollHeight - this.feedRef.scrollTop === this.feedRef.clientHeight;\r\n      const postsClone = [...this.state.posts];\r\n      postsClone.push(data);\r\n      this.setState({\r\n        posts: postsClone,\r\n      });\r\n      if (this.feedRef && lockScroll) this.feedRef.scrollTop = this.feedRef.scrollHeight;\r\n      pop.play();\r\n    }\r\n\r\n    const _this = this;\r\n    const switchTopic = (topic) => {\r\n      const newTopic = function(newTopic) {\r\n        _this.setState({\r\n          topic,\r\n          transitioningTopic: false,\r\n        })\r\n      }\r\n      this.setState({ transitioningTopic: true });\r\n      setTimeout(newTopic, 1000);\r\n    }\r\n\r\n    const changeMemberNickname = (data) => {\r\n      console.log(data);\r\n      const membersClone = [...this.state.members];\r\n      membersClone.forEach((member) => {\r\n        if (member.id === data.memberId) {\r\n          member.nickname = data.nickname;\r\n        }\r\n      });\r\n      this.setState({ members: membersClone })\r\n    }\r\n\r\n    socket.on('chat', function(data){\r\n      appendChat(data);\r\n    });\r\n\r\n    socket.on('new member', function(data){\r\n      appendMember(data);\r\n    });\r\n\r\n    socket.on('member left', function(member) {\r\n      removeMember(member);\r\n    });\r\n\r\n    socket.on('change topic', function(topic) {\r\n      switchTopic(topic);\r\n    });\r\n\r\n    socket.on('change nickname', function(data) {\r\n      changeMemberNickname(data);\r\n    })\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Nav />\r\n        <div className=\"container backdrop\">\r\n          <div className=\"row main\">\r\n            <div className=\"col-md-12\">\r\n              <Topic \r\n                  topic={this.state.topic}\r\n                  transitioningTopic={this.state.transitioningTopic}\r\n                />\r\n            </div>\r\n            <div className=\"col-md-7 order-md-2\">\r\n              <div className=\"column-content\">\r\n                <Feed \r\n                  muteList={this.state.muteList}\r\n                  posts={this.state.posts}\r\n                  members={this.state.members}\r\n                  activeMember={this.state.activeMember}\r\n                  setFeedRef={this.setFeedRef}\r\n                />\r\n                <Form \r\n                  msg={this.state.msg}\r\n                  handleChange={this.handleChange}\r\n                  onSubmit={this.chat}\r\n                  nickname={this.state.nickname}\r\n                  nicknameTemp={this.state.nicknameTemp}\r\n                  changeNickname={this.changeNickname}\r\n                  nicknameUpdate={this.nicknameUpdate}\r\n                  nicknameAccept={this.nicknameAccept}\r\n                  nicknameReject={this.nicknameReject}\r\n                  updatingNickname={this.state.updatingNickname}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"col-md-5 order-md-1\">\r\n              <div className=\"column-content\">\r\n                <Management \r\n                  members={this.state.members}\r\n                  manageMember={this.manageMember}\r\n                  activeMember={this.state.activeMember}\r\n                  toggleMute={this.toggleMute}\r\n                  directMessage={this.directMessage}\r\n                  muteList={this.state.muteList}\r\n                />\r\n              </div>\r\n            </div>\r\n            \r\n          </div>\r\n        </div>\r\n        <div className=\"image-CC\">\r\n          <a target=\"_blank\" href=\"https://www.flickr.com/photos/35468147887@N01/14018311\">“sea life”</a> by&nbsp;\r\n          <a target=\"_blank\" href=\"https://www.flickr.com/photos/hodgers/\">Tom Hodgkinson</a> is licensed under&nbsp;\r\n          <a target=\"_blank\" href=\"https://creativecommons.org/licenses/by-sa/2.0/\">CC BY-SA 2.0.</a> \r\n        </div>\r\n        <script src=\"/socket.io/socket.io.js\"></script>\r\n      </div>\r\n      );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","C:\\Users\\cmare\\dev practice\\talkbubble\\talkbubble-client\\src\\components\\nav.js",[],"C:\\Users\\cmare\\dev practice\\talkbubble\\talkbubble-client\\src\\components\\management.js",[],"C:\\Users\\cmare\\dev practice\\talkbubble\\talkbubble-client\\src\\components\\topic.js",["63"],"export function Topic(props) {\r\n    return(\r\n      <div className=\"topic\">\r\n        <h5 className=\"topic-header\">\r\n          <span>Random Topic:</span>\r\n          <span>Taken from <a target=\"_blank\" href=\"https://www.reddit.com/r/Showerthoughts/\">r/showerthoughts</a></span>\r\n        </h5>\r\n        <div className={\"topic-content \"}>\r\n          <div className={\"topic-text \" + (props.transitioningTopic ? 'transitioning' : '')}> {props.topic}</div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n  ","C:\\Users\\cmare\\dev practice\\talkbubble\\talkbubble-client\\src\\components\\feed.js",[],"C:\\Users\\cmare\\dev practice\\talkbubble\\talkbubble-client\\src\\components\\form.js",["64"],"import React from 'react';\r\n\r\nexport class Form extends React.Component {\r\n    constructor(props){\r\n      super(props);\r\n  \r\n      this.getAlias = this.getAlias.bind(this);\r\n    }\r\n  \r\n    getAlias() {\r\n      if (this.props.updatingNickname) {\r\n        return this.props.nicknameTemp;\r\n      }\r\n      else if (this.props.nickname) {\r\n        return this.props.nickname;\r\n      }\r\n      else {\r\n        return window.memberId;\r\n      }\r\n    }\r\n  \r\n    render() {\r\n      return (\r\n        <form id=\"postform\" action=\"javascript:void(0)\" onSubmit={this.props.onSubmit}>\r\n          <textarea id=\"postform-textarea\" form=\"postform\" value={this.props.msg} onChange={this.props.handleChange} name=\"content\" placeholder=\"Add to the Conversation\">{this.props.msg}</textarea>\r\n          <div className=\"below-textarea\">\r\n            <div className={\"nickname-option accept \" + (this.props.updatingNickname ? 'active' : '')} onClick={this.props.nicknameAccept}>\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-check-circle\" viewBox=\"0 0 16 16\"><path fill-rule=\"evenodd\" d=\"M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z\"/><path fill-rule=\"evenodd\" d=\"M10.97 4.97a.75.75 0 0 1 1.071 1.05l-3.992 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.236.236 0 0 1 .02-.022z\"/></svg>\r\n            </div>\r\n            <div className={\"nickname-option reject \" + (this.props.updatingNickname ? 'active' : '')} onClick={this.props.nicknameReject}>\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-x-circle\" viewBox=\"0 0 16 16\"><path fill-rule=\"evenodd\" d=\"M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z\"/><path fill-rule=\"evenodd\" d=\"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z\"/></svg>\r\n            </div>\r\n            <div className=\"posting-as\">Posting as: \r\n              <input type=\"text\" value={this.getAlias()} onChange={this.props.changeNickname} onClick={this.props.nicknameUpdate} />\r\n            </div>\r\n            <div class=\"char-count\">{this.props.msg.length}/256</div>\r\n            <input type=\"submit\" value=\"Post\"></input>\r\n          </div>\r\n        </form>\r\n      );\r\n    }\r\n  }","C:\\Users\\cmare\\dev practice\\talkbubble\\talkbubble-client\\src\\components\\room.js",[],"C:\\Users\\cmare\\dev practice\\talkbubble\\talkbubble-client\\src\\components\\options.js",[],"C:\\Users\\cmare\\dev practice\\talkbubble\\talkbubble-client\\src\\components\\post.js",[],"C:\\Users\\cmare\\dev practice\\talkbubble\\talkbubble-client\\src\\components\\member.js",[],{"ruleId":"65","replacedBy":"66"},{"ruleId":"67","replacedBy":"68"},{"ruleId":"69","severity":1,"message":"70","line":7,"column":8,"nodeType":"71","messageId":"72","endLine":7,"endColumn":12},{"ruleId":"69","severity":1,"message":"73","line":8,"column":17,"nodeType":"71","messageId":"72","endLine":8,"endColumn":25},{"ruleId":"69","severity":1,"message":"74","line":8,"column":27,"nodeType":"71","messageId":"72","endLine":8,"endColumn":36},{"ruleId":"69","severity":1,"message":"75","line":136,"column":11,"nodeType":"71","messageId":"72","endLine":136,"endColumn":17},{"ruleId":"76","severity":1,"message":"77","line":317,"column":14,"nodeType":"78","endLine":317,"endColumn":29},{"ruleId":"76","severity":1,"message":"77","line":318,"column":14,"nodeType":"78","endLine":318,"endColumn":29},{"ruleId":"76","severity":1,"message":"77","line":319,"column":14,"nodeType":"78","endLine":319,"endColumn":29},{"ruleId":"76","severity":1,"message":"77","line":6,"column":31,"nodeType":"78","endLine":6,"endColumn":46},{"ruleId":"79","severity":1,"message":"80","line":24,"column":36,"nodeType":"81","messageId":"82","endLine":24,"endColumn":56},"no-native-reassign",["83"],"no-negated-in-lhs",["84"],"no-unused-vars","'logo' is defined but never used.","Identifier","unusedVar","'useState' is defined but never used.","'useEffect' is defined but never used.","'_state' is assigned a value but never used.","react/jsx-no-target-blank","Using target=\"_blank\" without rel=\"noreferrer\" is a security risk: see https://html.spec.whatwg.org/multipage/links.html#link-type-noopener","JSXAttribute","no-script-url","Script URL is a form of eval.","Literal","unexpectedScriptURL","no-global-assign","no-unsafe-negation"]